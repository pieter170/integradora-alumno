<ion-content>
  <div class="app-container">

    <header class="app-header">
      <a routerLink="/login" class="header-icon back-button">
        &larr;
      </a>
      <h1>Crear Cuenta</h1>
      <div class="header-icon"></div>
    </header>

    <main class="content-area">

      <form class="form-wrapper" (submit)="$event.preventDefault()">

        <div style="text-align: center; margin-bottom: 25px;">
          <input type="file" id="avatarInput" (change)="procesarImagen($event)" accept="image/*" style="display: none;">

          <div (click)="seleccionarImagen()"
               style="width: 110px; height: 110px; background-color: #f0f0f0; border-radius: 50%; margin: 0 auto; overflow: hidden; position: relative; border: 3px solid #fff; box-shadow: 0 4px 6px rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center;">
            
            <img *ngIf="imagenPreview" [src]="imagenPreview" style="width: 100%; height: 100%; object-fit: cover;">
            
            <div *ngIf="!imagenPreview" style="display: flex; flex-direction: column; align-items: center;">
              <span style="font-size: 2.5rem; color: #bbb; line-height: 1;">+</span>
              <span style="font-size: 0.8rem; color: #999;">Foto</span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="fullname">Nombre de usuario</label>
          <input 
            type="text" 
            id="fullname" 
            name="username"
            [(ngModel)]="userData.username" 
            placeholder="Ingrese su nombre de usuario">
        </div>

        <div class="form-group">
          <label for="email">Correo electrónico</label>
          <input 
            type="email" 
            id="email" 
            name="email"
            [(ngModel)]="userData.email" 
            placeholder="Ingrese su correo">
        </div>

        <div class="form-group">
          <label for="password">Contraseña</label>
          <input 
            type="password" 
            id="password" 
            name="password"
            [(ngModel)]="userData.password" 
            placeholder="Cree una contraseña">
        </div>

        <div class="form-group">
          <label for="confirm-password">Confirmar contraseña</label>
          <input 
            type="password" 
            id="confirm-password" 
            name="confirm-password" 
            placeholder="Confirme su contraseña">
        </div>

        <button 
          type="button" 
          class="btn btn-green form-button" 
          (click)="registrarUsuario()">
          Crear Cuenta
        </button>

      </form>

      <p class="form-footer-link">
        ¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión</a>
      </p>

    </main>

  </div>
</ion-content>